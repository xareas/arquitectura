"use strict";(self.webpackChunknotification_center=self.webpackChunknotification_center||[]).push([[6274],{2593:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>t,metadata:()=>i,toc:()=>c});var a=n(4848),s=n(8453);const t={sidebar_position:4},o="Patron Result",i={id:"patrones/patron-result",title:"Patron Result",description:"El patron result, ofrece una alternativa estructurada a la gesti\xf3n de errores de forma tradicional.",source:"@site/docs/patrones/patron-result.md",sourceDirName:"patrones",slug:"/patrones/patron-result",permalink:"/arquitectura/docs/patrones/patron-result",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/patrones/patron-result.md",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4},sidebar:"tutorialSidebar",previous:{title:"Patron DTO",permalink:"/arquitectura/docs/patrones/patron-dto"},next:{title:"Guard Clauses",permalink:"/arquitectura/docs/patrones/patron-guard"}},l={},c=[{value:"Uso de Excepciones",id:"uso-de-excepciones",level:2},{value:"Implementaci\xf3n Makers con MediatR",id:"implementaci\xf3n-makers-con-mediatr",level:2}];function u(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.h1,{id:"patron-result",children:"Patron Result"}),"\n",(0,a.jsx)(r.p,{children:"El patron result, ofrece una alternativa estructurada a la gesti\xf3n de errores de forma tradicional.\r\nCuando codificas, generalmente (si no siempre) tienes control sobre lo que haces en caso de falla.\r\nEs m\xe1s sencillo lanzar una excepci\xf3n y esperar que la persona que llama piense en manejarla, cuando es mucho m\xe1s sencillo definir los posibles casos de \xe9xito y fracaso del m\xe9todo en el tipo de retorno."}),"\n",(0,a.jsx)(r.admonition,{title:"Patron Result",type:"tip",children:(0,a.jsx)(r.p,{children:"El Patron Result no es una idea nueva, y se origina en los lenguajes de programaci\xf3n funcional."})}),"\n",(0,a.jsxs)(r.p,{children:["La integraci\xf3n del patr\xf3n Result en MediatR es una t\xe9cnica sofisticada que mejora el manejo de errores y la retroalimentaci\xf3n operativa en aplicaciones que utilizan\r\nla biblioteca ",(0,a.jsx)(r.strong,{children:"MediatR"})," para mensajer\xeda durante el proceso."]}),"\n",(0,a.jsx)(r.h2,{id:"uso-de-excepciones",children:"Uso de Excepciones"}),"\n",(0,a.jsx)(r.p,{children:"Las excepciones son ideales para situaciones excepcionales e inesperadas que interrumpen el flujo normal del programa. Algunos casos en los que las excepciones son m\xe1s adecuadas incluyen:"}),"\n",(0,a.jsxs)(r.ul,{children:["\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Errores Irrecuperables:"})," Situaciones donde una operaci\xf3n cr\xedtica falla y el programa no puede continuar de manera significativa."]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Condiciones Inesperadas:"})," Problemas imprevistos como falta de recursos o errores de l\xf3gica."]}),"\n",(0,a.jsxs)(r.li,{children:[(0,a.jsx)(r.strong,{children:"Estructuras Existentes:"})," Donde el c\xf3digo ya est\xe1 construido en torno al manejo de excepciones y cambiarlo podr\xeda ser costoso o disruptivo."]}),"\n"]}),"\n",(0,a.jsx)(r.h2,{id:"implementaci\xf3n-makers-con-mediatr",children:"Implementaci\xf3n Makers con MediatR"}),"\n",(0,a.jsxs)(r.p,{children:["Para realizar el siguiente ejemplo nos apoyamos en una libreria liviana que implementa\r\nya dicho patron. ",(0,a.jsx)(r.a,{href:"https://github.com/altmann/FluentResults",children:"FluentResults"}),"\r\no bien la Libreria ",(0,a.jsx)(r.strong,{children:"Makers.ADF"})," que esta en construccion."]}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-cs",metastring:'title="CreateUserCommand.cs"',children:"public class CreateUserCommand : IRequest<Result>\r\n{\r\n    public string UserName { get; set; }\r\n    public string Email { get; set; }\r\n    // Otros campos...\r\n}\n"})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-cs",metastring:'title="IMessageQueueService.cs"',children:'public class CreateUserCommandHandler : IRequestHandler<CreateUserCommand, Result>\r\n{\r\n    public async Task<Result> Handle(CreateUserCommand request, CancellationToken cancellationToken)\r\n    {\r\n        // L\xf3gica para crear un nuevo usuario\r\n        // Supongamos que hay alguna validaci\xf3n aqu\xed...\r\n        //Podriamos usar el patron Guard...\r\n        if (string.IsNullOrWhiteSpace(request.UserName) || string.IsNullOrWhiteSpace(request.Email))\r\n        {\r\n            return Result.Fail("El nombre de usuario y el correo electr\xf3nico son obligatorios.");\r\n        }\r\n        // Simulaci\xf3n de crear el usuario\r\n        return Result.Ok();\r\n    }\r\n}\n'})}),"\n",(0,a.jsx)(r.pre,{children:(0,a.jsx)(r.code,{className:"language-cs",metastring:'title="IMessageQueueService.cs"',children:'var mediator = /* Inyectar Mediator aqu\xed */;\r\nvar createUserCommand = new CreateUserCommand\r\n{\r\n    UserName = "UsuarioNuevo",\r\n    Email = "nuevo@usuario.com"\r\n};\r\nvar result = await mediator.Send(createUserCommand);\r\nif (result.IsSuccess)\r\n{\r\n    Console.WriteLine("El usuario se cre\xf3 correctamente.");\r\n}\r\nelse\r\n{  \r\n    //Hubieron Errores.....\r\n    foreach (var error in result.Errors)\r\n    {\r\n        Console.WriteLine($"- {error.Message}");\r\n    }\r\n}\n'})})]})}function d(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,a.jsx)(r,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>o,x:()=>i});var a=n(6540);const s={},t=a.createContext(s);function o(e){const r=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(t.Provider,{value:r},e.children)}}}]);